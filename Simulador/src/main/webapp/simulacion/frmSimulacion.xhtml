<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" 
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:p="http://primefaces.org/ui"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:pe="http://primefaces.org/ui/extensions">
    <h:body>
        <ui:composition
            template="/WEB-INF/facelets/templates/mainLayout.xhtml">
            <ui:define name="menuPrincipal">
                <ui:include src="/seguridad/frmMenu.xhtml"/>
            </ui:define>
            <ui:define name="content" >
                <h:form id="frmSimulacion">
                    <p:panel id="panSimulacion">
                        <h:outputText value="Fondo :" style="padding-right: 5px;"/>
                        <p:selectOneMenu id="lstFondo" required="true" style="width: 180px;" 
                                         value="#{simulacionController.selectedFondo.nombre}" >
                            <f:selectItem itemLabel="Seleccione" itemValue="-1" />
                            <f:selectItem itemLabel="BBVA SOLES" itemValue="BBVA SOLES" />
                            <f:selectItem itemLabel="BBVA MODERADO-S" itemValue="BBVA MODERADO-S" />
                            <f:selectItem itemLabel="BBVA CREC.SOLES" itemValue="BBVA CREC.SOLES" />
                            <f:selectItem itemLabel="BBVA AGRESIVO-S" itemValue="BBVA AGRESIVO-S" />
                            <f:selectItem itemLabel="CASH DOLARES" itemValue="CASH DOLARES" />
                            <p:ajax event="change" update="grdFondo"/>
                        </p:selectOneMenu>
                        <p:separator />
                        
                        <p:layout style="min-width:400px;min-height:550px;" fullPage="false">
                            <p:layoutUnit position="center" resizable="true" size="600" minSize="700"  
                                          header="ExposiciÃ³n del Fondo">
                                <p:dataTable id="grdFondo" value="#{simulacionController.lista}" var="item" 
                                             scrollable="true" scrollHeight="390" resizableColumns="true" 
                                     emptyMessage="No se encontraron registros que coincidan con los criterios ingresados">
                                    <p:column headerText="" style="width: 20%;">
                                        <h:outputText value="#{item.especie}"/>
                                    </p:column>
                                    <p:column headerText="Monto Total" style="width: 12%;text-align: center;">
                                        <h:outputText value="#{item.montoTotal}" style="text-align: right;display: block;">
                                            <f:convertNumber groupingUsed="true" pattern="#,###,###" maxFractionDigits="0"/>
                                        </h:outputText>
                                    </p:column>
                                    <p:column headerText="Particip. (%)" style="white-space:normal;width: 8%;text-align: center;">
                                        <h:outputText value="#{item.porcenPartic} %" style="text-align: right;display: block;"/>
                                    </p:column>
                                    <p:column headerText="PEN" style="width: 13%;text-align: center;">
                                        <h:outputText value="#{item.montoSoles}">
                                            <f:convertNumber groupingUsed="true" pattern="#,###,###" maxFractionDigits="0"/>
                                        </h:outputText>
                                    </p:column>
                                    <p:column headerText="Particip. (%)" style="white-space:normal;width: 8%;text-align: center;">
                                        <h:outputText value="#{item.porcenParticSoles} %" style="text-align: right;display: block;"/>
                                    </p:column>
                                    <p:column headerText="USD" style="width: 13%;text-align: center;">
                                        <h:outputText value="#{item.montoDolares}" style="text-align: right;display: block;">
                                            <f:convertNumber groupingUsed="true" pattern="#,###,###" maxFractionDigits="0"/>
                                        </h:outputText>
                                    </p:column>
                                    <p:column headerText="Particip. (%)" style="white-space:normal;width: 8%;text-align: center;">
                                        <h:outputText value="#{item.porcenParticDolares} %" style="text-align: right;display: block;"/>
                                    </p:column>
                                    <p:column headerText="Duration" style="width: 10%;text-align: center;">
                                        <h:outputText value="#{item.montoDuration}" style="text-align: right;display: block;">
                                            <f:convertNumber groupingUsed="true" pattern="##0.00" maxFractionDigits="2"/>
                                        </h:outputText>
                                    </p:column>
                                    <p:column headerText="YTM  (%)" style="width: 8%;text-align: center;">
                                        <h:outputText value="#{item.porcenYtm} %" style="text-align: right;display: block;"/>
                                    </p:column>
                                </p:dataTable>
                            </p:layoutUnit>
                            <p:layoutUnit position="east" resizable="true" collapsible="true" effect="drop" header="Flujo de Caja" maxSize="500">
                                Center
                            </p:layoutUnit>
                        </p:layout>
                        
                        
                    </p:panel>
                </h:form>
                <p:growl id="growl" showDetail="true" showSummary="false" life="2000" />
            </ui:define>
        </ui:composition>
    </h:body>
</html>
